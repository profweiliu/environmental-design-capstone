simple_lm
predict(simple_lm, data = sales)
sales$predicted <- predict(simple_lm, data = sales)
residuals(simple_lm)
sales$residuals <- residuals(simple_lm)
hist(sales$residuals)
hist(sales$residuals, breaks = 50)
sales$predicted
plot(sales$predicted, sales$residuals)
cov(sales[sale_price, sqft, year_built])
cov(sales[, c("sale_price", "sqft", "year_built")])
cor(sales[, c("sale_price", "sqft", "year_built")])
cor(sales[, c("sale_price", "sqft", "year_built")])
cor(sales[, c("sale_price", "sqft", "year_built")])
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(alpha = 0.5, color = "steelblue") +
geom_smooth(method = "lm", se = FALSE, color = "darkred") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Predictor Variable",
y = "Sale Price ($)",
title = "Scatterplots: Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ï¼Ÿgeom_smooth
?geom_smooth
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(alpha = 0.5, color = "steelblue") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "darkred") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Predictor Variable",
y = "Sale Price ($)",
title = "Scatterplots: Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.1, alpha = 0.5, color = "steelblue") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "darkred") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Predictor Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.1, alpha = 0.5, color = "steelblue") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "darkred") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.1, alpha = 0.5, color = "steelblue") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "darkred") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "**Sale Price vs. Sqft and Year Built**"
) +
theme_minimal()
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.1, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", se = True, color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", se = FALSE, color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", se = TRUE, color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
sales_long <- sales |>
pivot_longer(
cols = c(sqft, year_built),
names_to = "variable",
values_to = "xvalue"
)
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(method = "lm", formula = "y~x", color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(size = 1, method = "lm", formula = "y~x", color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(linewidth = 1, method = "lm", formula = "y~x", color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(linewidth = 0.5, method = "lm", formula = "y~x", color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Sqft and Year Built"
) +
theme_minimal()
?kingco_sales
ggplot(sales_long, aes(x = xvalue, y = sale_price)) +
geom_point(size = 0.3, alpha = 0.5, color = "#e8e3d3") +
geom_smooth(linewidth = 0.5, method = "lm", formula = "y~x", color = "#4b2e83") +
facet_wrap(~ variable, scales = "free_x") +
labs(
x = "Explanatory Variable",
y = "Sale Price ($)",
title = "Sale Price vs. Square Footage of House (Sqft) and Year Built"
) +
theme_minimal()
plot(simple_lm)
plot(sales$residuals, sales$sale_date)
plot(sales$residuals, sales$area)
plot(sales$residuals, sales$area)
plot(simple_lm)
plot(simple_lm)
plot(simple_lm, which =1)
# lm means linear model
# we don't need to add intercept, R will add it for us
simple_lm <- lm(data = sales, sale_price ~ sqft + year_built)
lm <- lm(data = sales, log(sale_price) ~ sqft + year_built)
plot(lm)
plot(simple_lm)
plot(simple_lm, which =1)
# lm means linear model
# we don't need to add intercept, R will add it for us
simple_lm <- lm(data = sales, sale_price ~ sqft + year_built)
plot(simple_lm, which =1)
lm <- lm(data = sales, log(sale_price) ~ sqft + year_built)
plot(lm)
hist(sales$sale_price)
plot(simple_lm)
plot(simple_lm, which =2)
plot(simple_lm, which = 4)
plot(simple_lm, which = 5)
log_simple_lm <- lm(data = sales, log(sale_price) ~ sqft + year_built)
plot(log_simple_lm)
log_simple_lm <- lm(data = sales, log(sale_price) ~ sqft + year_built)
plot(log_simple_lm)
summary(log_simple_lm)
modelsummary(simple_lm, log_simple_lm)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
theme = "compact"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
theme = "compact"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
theme = "revealjs"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "revealjs"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "compact"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "compact"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "grid"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "compact"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
output = "html",
theme = "striped"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models'
output = "html",
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models',
output = "html",
theme = "striped"
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models',
output = "html",
theme = ""
)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models',
output = "html",
theme = "rotate"
)
summary(log_simple_lm)
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models',
output = "gt")
modelsummary(
list(
"Original model" = simple_lm,
"Log-transformed model" = log_simple_lm
),
coef_map = c(
"(Intercept)" = "Constant",
"sqft" = "Square Footage of House",
"year_built" = "Year Built"
),
statistic = "std.error",
stars = TRUE,
gof_omit = "IC|Log|F",
title = 'Comparsion Table between Two Models',
output = "kableExtra")
knitr::opts_chunk$set(echo = TRUE)
summary(log_simple_lm)
summary(log_simple_lm)
coef(log_simple_lm)
coef(log_simple_lm)$sqft
coef(log_simple_lm)
coef(log_simple_lm)
exp(0.0003717023)
exp(0.0003717023) * 100%
exp(0.0003717023)
exp(-0.0023949085)
exp(0.0003717023)
1.000372^10
1.000372^100
0.000372 * 10
0.000372 * 100
1.000372^100
